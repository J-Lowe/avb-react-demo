(this["webpackJsonpavb-demo"]=this["webpackJsonpavb-demo"]||[]).push([[0],{11:function(t,e,c){t.exports={contactNameDiv:"ContactForm_contactNameDiv__3zjtl",contactFooter:"ContactForm_contactFooter__yvvUe",contactFooterLeft:"ContactForm_contactFooterLeft__luQjW",contactFooterRight:"ContactForm_contactFooterRight__63eYt"}},17:function(t,e,c){},18:function(t,e,c){},21:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c.n(a),s=c(10),o=c.n(s),i=(c(17),c(3)),l=(c(18),c(8)),r=c.n(l),d=c(0);var j=function(t){var e,c;return null===(e=t.contactPage)||void 0===e||e.contacts.sort((function(t,e){var c;return null===(c=t.firstName)||void 0===c?void 0:c.localeCompare(e.firstName)})),Object(d.jsxs)("div",{className:"contactListDiv lightBackground",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("h2",{children:"Contacts"})}),Object(d.jsx)("div",{className:"col-1",children:Object(d.jsx)("button",{className:"btn addBtn moveLeft",onClick:function(){return t.setSelectedContact({id:null,firstName:"",lastName:"",emails:[]})},children:"+"})})]}),Object(d.jsx)("div",{className:"row contactList",children:Object(d.jsx)("div",{className:"col",children:null===(c=t.contactPage)||void 0===c?void 0:c.contacts.map((function(e){return Object(d.jsx)("p",{children:Object(d.jsxs)("div",{className:"btn "+r.a.jbtn+(e.id==t.selectedContactId?" "+r.a.selected:""),onClick:function(){t.setSelectedContact(e)},children:[e.firstName," ",e.lastName]})})}))})})]})},m=c(9),b=c(12),u=c(11),h=c.n(u);var O=function(t){var e=Object(a.useState)(!1),c=Object(i.a)(e,2),n=c[0],s=c[1];return Object(d.jsx)("p",{children:Object(d.jsxs)("span",{onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[t.email," ",n&&Object(d.jsx)("button",{onClick:function(){return t.removeEmail(t.email)},children:"-"})]})})};var N=function(t){var e=Object(b.a)(),c=e.register,n=e.setValue,s=(e.handleSubmit,e.formState.errors,e.getValues),o=Object(a.useState)(!1),l=Object(i.a)(o,2),r=l[0],j=l[1],u=Object(a.useState)(!1),N=Object(i.a)(u,2),f=N[0],v=N[1];function x(e){var c=t.contact.emails.indexOf(e);t.contact.emails.splice(c,1),t.contact.hasChange=!0,v(!0)}return f&&v(!1),n("firstName",""+t.contact.firstName),n("lastName",""+t.contact.lastName),Object(d.jsxs)("div",{className:"padMe",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col",children:[Object(d.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(m.a)({className:"lightBackground"},c("firstName")))]}),Object(d.jsxs)("div",{className:"col",children:[Object(d.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(m.a)({className:"lightBackground"},c("lastName")))]})]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("label",{htmlFor:"email",children:"Email"})})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col",children:[t.contact.emails.map((function(t){return Object(d.jsx)(O,{email:t,removeEmail:x})})),r&&Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",id:"newEmail"}),Object(d.jsx)("button",{className:"btn footerBtn btn-success",onClick:function(){var e=document.getElementById("newEmail");t.contact.emails.push(e.value),t.contact.hasChange=!0,j(!1),v(!0)},children:"Add"}),Object(d.jsx)("button",{className:"btn footerBtn",onClick:function(){return j(!1)},children:"Cancel"})]})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col",children:[Object(d.jsx)("button",{className:"btn addBtn",onClick:function(){return j(!0)},children:"+"}),Object(d.jsx)("span",{className:"addEmail",children:" add email"})]})}),Object(d.jsxs)("div",{className:h.a.contactFooter+" row",children:[Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("button",{className:"btn btn-danger",onClick:function(){t.contact&&t.contact.id&&fetch("https://avb-contacts-api.herokuapp.com/contacts/"+t.contact.id,{method:"DELETE"}).then((function(){return t.setUpdateList(!0)}))},children:"Delete"})}),Object(d.jsxs)("div",{className:"col footer",children:[Object(d.jsx)("button",{className:"btn",onClick:function(){fetch("https://avb-contacts-api.herokuapp.com/contacts/"+t.contact.id).then((function(t){return t.json()})).then((function(e){n("firstName",""+e.firstName),n("lastName",""+e.lastName),t.contact.emails=e.emails,t.contact.hasChange=!1,v(!0)}))},children:"Cancel"}),Object(d.jsx)("button",{className:"btn btn-primary footerBtn",onClick:function(){t.contact&&t.contact.id?(t.contact.firstName=s("firstName"),t.contact.lastName=s("lastName"),fetch("https://avb-contacts-api.herokuapp.com/contacts/"+t.contact.id,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t.contact)}).then((function(){return t.setUpdateList(!0)}))):(t.contact.firstName=s("firstName"),t.contact.lastName=s("lastName"),fetch("https://avb-contacts-api.herokuapp.com/contacts/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t.contact)}).then((function(){return t.setUpdateList(!0)})))},children:"Save"})]})]})]})};var f=function(){var t=Object(a.useState)(!0),e=Object(i.a)(t,2),c=(e[0],e[1]),n=Object(a.useState)(),s=Object(i.a)(n,2),o=s[0],l=s[1],r=Object(a.useState)({id:void 0,firstName:"",lastName:"",emails:[],hasChange:!1}),m=Object(i.a)(r,2),b=m[0],u=m[1],h=Object(a.useState)(!0),O=Object(i.a)(h,2),f=O[0],v=O[1];return Object(a.useEffect)((function(){f&&fetch("https://avb-contacts-api.herokuapp.com/contacts/paginated").then((function(t){return t.json()})).then((function(t){c(!1),l(t),v(!1)}))}),[f]),Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-3",children:Object(d.jsx)(j,{contactPage:o,setSelectedContact:u,selectedContactId:b.id})}),Object(d.jsx)("div",{className:"col",children:Object(d.jsx)(N,{contact:b,setUpdateList:v,setSelectedContact:u})})]})})},v=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,22)).then((function(e){var c=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,o=e.getTTFB;c(t),a(t),n(t),s(t),o(t)}))};o.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),v()},8:function(t,e,c){t.exports={contactDiv:"ContactList_contactDiv__nnHpU",addContactButton:"ContactList_addContactButton__1-z21",contactsHeader:"ContactList_contactsHeader__321kx",jbtn:"ContactList_jbtn__nLJmw",selected:"ContactList_selected__1ONAF"}}},[[21,1,2]]]);
//# sourceMappingURL=main.a2276497.chunk.js.map